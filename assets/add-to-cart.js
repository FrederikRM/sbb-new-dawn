import{c as d,o as i,a as l,t as m,e as p}from"./runtime-dom.esm-bundler.js";const u={class:"flex justify-center items-center h-screen"},g={__name:"AddToCart",props:{variantId:{type:String,required:!0},title:{type:String,required:!0}},setup(e){const t=async()=>{const o=document.querySelector("cart-drawer");console.log("add to cart");const a=await(await fetch("/cart/add.js",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({items:[{id:e.variantId,quantity:1}],sections:o.getSectionsToRender().map(n=>n.id)})})).json();console.log("Response:",a),console.log("Expected sections:",o.getSectionsToRender().map(n=>n.id)),console.log("Received sections:",Object.keys(a.sections||{}));const c=document.getElementById("CartDrawer");console.log("CartDrawer element exists:",!!c),o.renderContents(a)};return(o,s)=>(i(),d("div",u,[l("button",{class:"bg-orange-500 text-white px-4 py-2 rounded-md",onClick:t}," Add "+m(e.title)+" to Cart ",1)]))}},r=document.getElementById("add-to-cart");if(r){const{variantId:e,title:t}=r.dataset;e&&t&&p(g,{variantId:e,title:t}).mount("#add-to-cart")}
